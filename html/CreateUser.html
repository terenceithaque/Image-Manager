<!DOCTYPE html>
<html>
  <head>
    <title>Créer un nouvel utilisateur</title>
    <meta content="width=device-width,initial-scale=1" name="viewport" />
    <link rel="stylesheet" href="../css/styles.css" />
    <header>
      <a href="../index.html"
        ><img class="toolbarImage" src="../images/exit.jpg"
      /></a>
      <a href="CreateUser.html"
        ><img class="toolbarImage" src="../images/reload.jpg"
      /></a>
    </header>
  </head>

  <body>
    <div class="ConfirmBox"></div>
    <p>
      <strong
        >Créer un nouvel utilisateur ne supprime pas les autres
        utilisateurs.</strong
      >
    </p>
    <p>
      <strong
        >Pour pouvoir vous identifier, nous vous conseillons de mettre votre
        prénom et votre nom de famille.</strong
      >
    </p>
    <input
      class="new-user-name"
      type="text"
      placeholder="Nom du nouvel utilisateur"
    />
    <button disabled class="name-button">Valider</button>
  </body>

  <script>
    let userName = ""; // Le nom de l'utilisateur  ne vaut rien au départ
    let elNewUser = document.querySelector(".new-user-name"); // Sélection du formulaire
    userName += elNewUser;

    let elBoutonValider = document.querySelector(".name-button"); // Sélection du bouton de validation du nom

    if (userName.length > 1) {
      elBoutonValider.removeAttribute("disabled");
    }
    elBoutonValider.addEventListener("click", showConfirmBox);

    let elConfirmBox = document.querySelector(".ConfirmBox"); // Boite de dialogue de confirmation du nom d'utilisateur
    elConfirmBox.classList.add("hide");
    elConfirmBox.innerHTML =
      ("Voulez-vous vraiment nommer le nouvel utilisateur ${userName}",
      { userName });
    console.log(elConfirmBox.innerHTML);

    function showConfirmBox() {
      elConfirmBox.classList.add("show");
    }
  </script>
</html>
